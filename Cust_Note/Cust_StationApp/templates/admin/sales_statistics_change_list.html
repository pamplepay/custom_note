{% extends "admin/change_list.html" %}
{% load i18n admin_urls static admin_list %}

{% block content_title %}
    <h1>매출 통계 목록</h1>
{% endblock %}

{% block object-tools-items %}
    {{ block.super }}
{% endblock %}

{% block content %}
    <!-- 주유소 필터 및 검색 섹션 -->
    <div class="module filtered" style="margin-bottom: 1px;">
        <h2 style="margin: 0 0 1px 0; font-size: 11px; color: #333;">주유소별 필터 & 검색</h2>
        <div class="form-row" style="margin: 0;">
            <form method="get" action="." style="display: flex; align-items: center; gap: 3px; flex-wrap: wrap; margin: 0;">
                <label for="station_filter" style="font-weight: bold; margin-right: 2px; font-size: 11px;">주유소:</label>
                <select name="station_filter" id="station_filter" style="padding: 2px 4px; border: 1px solid #ccc; border-radius: 2px; min-width: 120px; font-size: 11px;">
                    <option value="all" {% if request.GET.station_filter == 'all' or not request.GET.station_filter %}selected{% endif %}>전체 주유소</option>
                    {% for station in stations %}
                        <option value="{{ station.tid }}" {% if request.GET.station_filter == station.tid %}selected{% endif %}>
                            {{ station.station_name }} ({{ station.tid }})
                        </option>
                    {% endfor %}
                </select>
                <input type="text" name="q" value="{{ request.GET.q }}" placeholder="검색어 입력..." 
                       style="padding: 2px 4px; border: 1px solid #ccc; border-radius: 2px; min-width: 150px; font-size: 11px;">
                <button type="submit" class="button" style="padding: 2px 8px; background: #417690; color: white; border: none; border-radius: 2px; cursor: pointer; font-size: 11px;">
                    적용
                </button>
                {% if request.GET.station_filter and request.GET.station_filter != 'all' or request.GET.q %}
                    <a href="." class="button" style="padding: 2px 8px; background: #ba2121; color: white; text-decoration: none; border-radius: 2px; font-size: 11px;">
                        초기화
                    </a>
                {% endif %}
            </form>
        </div>
    </div>

    <!-- 기존 change_list 내용 -->
    {{ block.super }}
{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <style>
        .module.filtered {
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 2px;
            padding: 2px 2px 0 2px;
            margin-bottom: 1px;
            height: auto;
            min-height: auto;
            line-height: 1;
        }
        .module.filtered h2 {
            margin: 0 0 1px 0;
            color: #333;
            font-size: 11px;
            font-weight: 600;
            line-height: 1;
        }
        .form-row {
            margin: 0;
            line-height: 1;
        }
        .form-row form {
            margin-bottom: 0;
            line-height: 1;
        }
        .button:hover {
            opacity: 0.8;
        }
        select, input[type="text"] {
            font-size: 11px;
            line-height: 1;
        }
        .button {
            font-size: 11px;
            line-height: 1;
        }
    </style>
{% endblock %} 